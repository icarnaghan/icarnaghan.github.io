<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Baseline Security Analyzer - Testing a Standard Installation of Windows Web Server 2008 R2 | Ian Carnaghan</title>
<meta name=keywords content="csec-610"><meta name=description content="The objective of this exercise was to use Microsoft Baseline Security Analyzer (MBSA) to identify improper configurations and missing security updates that could lead to vulnerabilities.  The system this was tested on is a dedicated server located at Core Networks (http://www.corenetworks.com).  The server is used to host small business websites, from freelance web development work.  Up until recently a shared hosting plan was used at a company called Wiredtree, however the need for more server resources meant it was time to move to a dedicated server."><meta name=author content="icarnaghan"><link rel=canonical href=https://www.carnaghan.com/baseline-security-analyzer-testing-a-standard-installation-of-windows-web-server-2008-r2/><meta name=google-site-verification content="G-7Q7KDW64SY"><link crossorigin=anonymous href=/assets/css/stylesheet.f49d66caae9ea0fd43f21f29e71a8d3e284517ed770f2aa86fa012953ad3c9ef.css integrity="sha256-9J1myq6eoP1D8h8p5xqNPihFF+13Dyqob6ASlTrTye8=" rel="preload stylesheet" as=style><link rel=icon href=https://www.carnaghan.com/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://www.carnaghan.com/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://www.carnaghan.com/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://www.carnaghan.com/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://www.carnaghan.com/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://www.carnaghan.com/baseline-security-analyzer-testing-a-standard-installation-of-windows-web-server-2008-r2/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-7Q7KDW64SY"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-7Q7KDW64SY")}</script><meta property="og:url" content="https://www.carnaghan.com/baseline-security-analyzer-testing-a-standard-installation-of-windows-web-server-2008-r2/"><meta property="og:site_name" content="Ian Carnaghan"><meta property="og:title" content="Baseline Security Analyzer - Testing a Standard Installation of Windows Web Server 2008 R2"><meta property="og:description" content="The objective of this exercise was to use Microsoft Baseline Security Analyzer (MBSA) to identify improper configurations and missing security updates that could lead to vulnerabilities. The system this was tested on is a dedicated server located at Core Networks (http://www.corenetworks.com). The server is used to host small business websites, from freelance web development work. Up until recently a shared hosting plan was used at a company called Wiredtree, however the need for more server resources meant it was time to move to a dedicated server."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2011-03-26T00:00:00+00:00"><meta property="article:modified_time" content="2011-03-26T00:00:00+00:00"><meta property="article:tag" content="Csec-610"><meta property="og:image" content="https://www.carnaghan.com/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.carnaghan.com/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Baseline Security Analyzer - Testing a Standard Installation of Windows Web Server 2008 R2"><meta name=twitter:description content="The objective of this exercise was to use Microsoft Baseline Security Analyzer (MBSA) to identify improper configurations and missing security updates that could lead to vulnerabilities.  The system this was tested on is a dedicated server located at Core Networks (http://www.corenetworks.com).  The server is used to host small business websites, from freelance web development work.  Up until recently a shared hosting plan was used at a company called Wiredtree, however the need for more server resources meant it was time to move to a dedicated server."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://www.carnaghan.com/posts/"},{"@type":"ListItem","position":2,"name":"Baseline Security Analyzer - Testing a Standard Installation of Windows Web Server 2008 R2","item":"https://www.carnaghan.com/baseline-security-analyzer-testing-a-standard-installation-of-windows-web-server-2008-r2/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Baseline Security Analyzer - Testing a Standard Installation of Windows Web Server 2008 R2","name":"Baseline Security Analyzer - Testing a Standard Installation of Windows Web Server 2008 R2","description":"The objective of this exercise was to use Microsoft Baseline Security Analyzer (MBSA) to identify improper configurations and missing security updates that could lead to vulnerabilities. The system this was tested on is a dedicated server located at Core Networks (http://www.corenetworks.com). The server is used to host small business websites, from freelance web development work. Up until recently a shared hosting plan was used at a company called Wiredtree, however the need for more server resources meant it was time to move to a dedicated server.\n","keywords":["csec-610"],"articleBody":"The objective of this exercise was to use Microsoft Baseline Security Analyzer (MBSA) to identify improper configurations and missing security updates that could lead to vulnerabilities. The system this was tested on is a dedicated server located at Core Networks (http://www.corenetworks.com). The server is used to host small business websites, from freelance web development work. Up until recently a shared hosting plan was used at a company called Wiredtree, however the need for more server resources meant it was time to move to a dedicated server.\nThe server itself is unmanaged, meaning that Core Networks provide only the hardware lease and therefore the responsibility of installing and maintaining the operating software and web hosting platform (Internet Information Services) is my own. The server was recently installed with the web edition of Windows 2008 R2 and currently runs IIS 7, Websitepanel (formerly DotNetPanel), MySQL, PHP, ColdFusion and several other web hosting server languages and platforms. The results of the lab follow along with addressing the following concerns:\nReview of the overall “security assessment” risk rating from the report generated by MBSA and consideration of the results. Overview of weak and strong passwords and how MBSA runs such checks as well as an explanation as to why it is important to have a password expiration policy set. Review of Malware and how it can disrupt Windows platforms along with the different types that can be used. Explanation of the importance of patches using the Conficker case as an example of exploited system vulnerability as well as reviewing how corporations can use MBSA to detect missing patches. Suggestion for an additional feature that could be potentially added to a future version of MBSA. MBSA Security Report [line]\nSecurity Update Scan Results [line]\nWindows Scan Results Administrative Vulnerabilities\n[line]\nAdditional System Information [line]\nInternet Information Services (IIS) Scan Results Administrative Vulnerabilities\n[line]\nAdditional System Information [line]\nDesktop Application Scan Results Administrative Vulnerabilities\n[line]\nThe Security Assessment Risk Rating MBSA was run on Windows Web Server 2008 R2. The server had been updated using Windows Automated updates and the assumption was that MBSA would not find anything out of the ordinary. The initial scan revealed that several critical issues existed which were overlooked previously. The overall security assessment risk was given as “Severe Risk (One or more critical checks failed.).” Upon further analysis of the report it was discovered that two critical issues and several other warnings were present. The first critical risk involved an update patch shown in the screenshot below, which had never been applied to the server. In order to fix this issue MBSA provided a link to download the patch in question, which was then installed on the server.\nThe second critical issue involved a security setting in Internet Explorer where it was revealed that Internet Explorer zones do not have secure settings for all users. This involved a few security setting changes in Internet Explorer 8 on the different zones.\nAfter applying the above fixes and re-running MBSA, the new security risk rating was dropped from severe risk to “Potential Risk (One or more non-critical checks failed.).” The remaining item was a warning that several users do not have a password expiration policy set.\nAdministrative Vulnerabilities\nThe users in question are web users generated by an application called Websitepanel, which is a web hosting toolset that manages multiple websites and domain accounts. These users typically only have access to the website space that they are assigned to and have no further access to other system resources. They are managed through Websitepanel via Windows Server Internet Information Services (IIS) and while they pose less of a threat, further investigation will be needed on how to properly manage password expiration policies for these users through IIS and Websitepanel in future. The remaining report bullets were informational and no other warnings were present.\nWeak and Strong Passwords MBSA checks for weak passwords during its security scan of the system it has run on. Weak passwords can often lead to vulnerabilities through ease of them being broken by common techniques such as brute force or dictionary attacks. Yan (Yan, J, Blackwell, A., Anderson r. \u0026 Grant, A., 2004) describes a brute-force attack as method of using all possible combinations of keys when trying to discover a password. Dictionary attacks on the other hand focus on a list of most likely used words. “MBSA tests for blank passwords and common password patterns (such as the machine name, the user account name, and “admin”),” (Fahland, M., \u0026 Schultze, E., 2002). Strong passwords are extremely important in corporate environments where users have access to restricted information.\nThe MBSA review of the Windows 2008 server revealed that neither login success nor login failure auditing was enabled. If a brute-force or dictionary attack had taken place, there would be no evidence to support this because no logs would have been generated. While this was an informational bullet in the report, it is an important piece of information that reminds us that we should always be vigilant regarding the traffic coming into our servers. In a corporate setting it could be disastrous if a hacker was able to gain access to legitimate user accounts that had access to highly confidential information all because of an exploited weak password.\nKessler (2001) lists, “Lack of strong password policies, such as auditing user passwords, forcing password expiration, and encouraging users to employ good passwords” as one of the commonly overlooked security measures. Password expiration policy is essential to ensure that users do not have a tendency on using the same password over a long period of time with different systems. By forcing a user to change their password on a regular basis overall password security is increased but also it acts as a fail safe for those individuals who had accounts that were never deactivated when they should have been.\nMalware Vacca (2009) describes malware as “software designed to infiltrate or damage a computer system without the owner’s informed consent.” Viruses, worms, backdoors and Trojan Horses are all forms of malware. Moser, (Moser, Kruegel, \u0026 Kirda, 2007) analyzes the patterns of malware and describes it as a profitable business for many cyber criminals. Malware is often installed on a user’s computer unknowingly through a web link, e-mail attachment or some other form of malicious code. According to SpamLaws, it can attach “itself to the components of a web page, pop-up advertisements, toolbars, free stuff that you download, and games, to name a few.” Once installed on large numbers of machines, they can be linked together to form “botnets”, which can be used for larger attacks such as denial-of-service or spam relays.\nWhile later versions of Windows have come with greater security protection, users who unknowingly are tricked into installing a piece of malware have become compromised. Malware has the ability to prevent system updates and make changes to firewall settings as well as antivirus definition files. According to Moir, R. (2003) the two biggest concerns for computer users are viruses and spyware. Both can be prevented by keeping the computer patched and up to date with the latest operating system updates as well as using a Virus protection application with updated definition files. He also recommends only downloading files from reputable sources as well as installing and maintaining a firewall.\nPatches and Conficker Conficker is a “worm that has grown to be one of the most technologically advanced and resilient botnets to date”, (Fitzgibbon, \u0026 Wood, 2009). There have been several different versions of Conficker over the years including Conficker.A, and Conficker.B which primarily concentrated on spreading infection. Conficker.C has focused more on developing a more robust and stealthy operation.\nConficker.A originally exploited the MS08-067 RPC NetPathCanonicalize vulnerability, which was described by Microsoft as a vulnerability in server service that could allow remote code execution. According to Microsoft (2008) Conficker is a remote code execution vulnerability where “An attacker who successfully exploited this vulnerability could take complete control of an affected system remotely.”\nA patch was released by Microsoft in October of 2008, however many computers did not apply this patch immediately, which resulted in their infection of Conficker. This is why it is so important, especially in any corporate environment to implement proper patch applying policies. MBSA is a tool which can be used to scan for missing patches and therefore could be easily executed in a corporate environment. If an organization chooses to manually install patches in their network, they should be aware of the current highly critical patches needed to defend their systems against malicious attacks. If computers had been patched properly, the spread of the initial version of Conficker would have been much smaller. Since Conficker.A, the worm has used a combination of highly sophisticated malware techniques and has continued to spread through social engineering and peer-to-peer distribution systems.\nMBSA Suggested Feature While MBSA does a great job of detecting missing patches and identifying different types of vulnerabilities present within a Windows environment, it does not accommodate for third party applications in the process. According to Beaver, K (2009), MBSA doesn’t scan for anything outside of Microsoft software, while third party applications remain the source of many Windows vulnerabilities.\nMany configuration problems tend to occur when a larger mix of third party applications are installed. While it would be difficult for Microsoft to incorporate the many third party software applications into its MBSA product, it could devise a way for plug-in support, which would involve development from the third party software organization. Regardless if this ever becomes a feature or not, MBSA provides a useful security baseline tool, which should be utilized by corporations to ensure they have the latest patches and are protected against many malicious threats both now and in the future.\nReferences Beaver, K. (2009). Why should Windows shops use Microsoft Baseline Security Analyzer? Retrieved from http://searchenterprisedesktop.techtarget.com/tip/Why-should-Windows-shops-use-Microsoft-Baseline-Security-Analyzer\nKessler, C., G. (2001). Nontechnical Hurdles to Implementing Effective Security Policies. IT Professional Magazine, 3(2), 49-52. Retrieved March 20, 2011, from ABI/INFORM Global. (Document ID: 1028002491).\nFahland, M., Schultze, E. (2001). Microsoft Baseline Security Analyzer V1.1. Symantec. Retrieved from http://www.symantec.com/connect/articles/microsoft-baseline-security-analyzer-v11\nMoir, R. (2003). Defining Malware FAQ. Microsoft. Retrieved from http://download.microsoft.com/download/d/b/f/dbf7a49f-ab1b-4de4-b7bd-45d01aecd89a/malwarefaq.doc\nMoser, A., Kruegel, C. \u0026 Kirda, E. (2007) In Proceedings of the 2007 IEEE Symposium on Security and Privacy. Exploring multiple execution paths for malware analysis. Retrieved from http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.72.5497\u0026rep=rep1\u0026type=pdf\nMicrosoft. (2008). MS08-067 Knowledge Base. Retrieved from http://support.microsoft.com/kb/958644\nSpamLaws. (2011). Retrieved from http://www.spamlaws.com/how-malware-works.html\nVacca, J. (2009). Computer and Information Security Handbook. Burlington, MA: Morgan Kaufmann Publications.\nYan, J, Blackwell, A., Anderson r. \u0026 Grant, A. (2004). Password Memorability and Security: Empirical Results. IEEE Security \u0026 Privacy Magazine, p. 27. September/October, 2004.\n","wordCount":"1771","inLanguage":"en","image":"https://www.carnaghan.com/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E","datePublished":"2011-03-26T00:00:00Z","dateModified":"2011-03-26T00:00:00Z","author":{"@type":"Person","name":"icarnaghan"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.carnaghan.com/baseline-security-analyzer-testing-a-standard-installation-of-windows-web-server-2008-r2/"},"publisher":{"@type":"Organization","name":"Ian Carnaghan","logo":{"@type":"ImageObject","url":"https://www.carnaghan.com/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://www.carnaghan.com/ accesskey=h title="Ian Carnaghan (Alt + H)"><img src=https://www.carnaghan.com/apple-touch-icon.png alt aria-label=logo height=35>Ian Carnaghan</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://www.carnaghan.com/about-me/ title="About Me"><span>About Me</span></a></li><li><a href=https://www.carnaghan.com/categories/coding/ title=Coding><span>Coding</span></a></li><li><a href=https://www.carnaghan.com/bitesize-javascript/ title="Bitesize JavaScript"><span>Bitesize JavaScript</span></a></li><li><a href=https://www.carnaghan.com/categories/data-analytics/ title="Data Analytics"><span>Data Analytics</span></a></li><li><a href=https://www.carnaghan.com/categories/cybersecurity/ title=Cybersecurity><span>Cybersecurity</span></a></li><li><a href=https://www.carnaghan.com/categories/ux-design/ title="UX and Design"><span>UX and Design</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://www.carnaghan.com/>Home</a>&nbsp;»&nbsp;<a href=https://www.carnaghan.com/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Baseline Security Analyzer - Testing a Standard Installation of Windows Web Server 2008 R2</h1><div class=post-meta><span title='2011-03-26 00:00:00 +0000 UTC'>March 26, 2011</span>&nbsp;·&nbsp;9 min&nbsp;·&nbsp;1771 words&nbsp;·&nbsp;icarnaghan&nbsp;|&nbsp;<a href=https://github.com/icarnaghan/carnaghan.com/content/posts/baseline-security-analyzer-testing-a-standard-installation-of-windows-web-server-2008-r2/index.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=post-content><p>The objective of this exercise was to use Microsoft Baseline Security Analyzer (MBSA) to identify improper configurations and missing security updates that could lead to vulnerabilities.  The system this was tested on is a dedicated server located at Core Networks (<a href=http://www.corenetworks.com>http://www.corenetworks.com</a>).  The server is used to host small business websites, from freelance web development work.  Up until recently a shared hosting plan was used at a company called Wiredtree, however the need for more server resources meant it was time to move to a dedicated server.</p><p>The server itself is unmanaged, meaning that Core Networks provide only the hardware lease and therefore the responsibility of installing and maintaining the operating software and web hosting platform (Internet Information Services) is my own.  The server was recently installed with the web edition of Windows 2008 R2 and currently runs IIS 7, Websitepanel (formerly DotNetPanel), MySQL, PHP, ColdFusion and several other web hosting server languages and platforms.  The results of the lab follow along with addressing the following concerns:</p><ol><li>Review of the overall “security assessment” risk rating from the report generated by MBSA and consideration of the results.</li><li>Overview of weak and strong passwords and how MBSA runs such checks as well as an explanation as to why it is important to have a password expiration policy set.</li><li>Review of Malware and how it can disrupt Windows platforms along with the different types that can be used.</li><li>Explanation of the importance of patches using the Conficker case as an example of exploited system vulnerability as well as reviewing how corporations can use MBSA to detect missing patches.</li><li>Suggestion for an additional feature that could be potentially added to a future version of MBSA.</li></ol><h2 id=mbsa-security-report>MBSA Security Report<a hidden class=anchor aria-hidden=true href=#mbsa-security-report>#</a></h2><p>[line]</p><p><img alt=mbsa1 loading=lazy src=/baseline-security-analyzer-testing-a-standard-installation-of-windows-web-server-2008-r2/images/mbsa1.png></p><h3 id=security-update-scan-results>Security Update Scan Results<a hidden class=anchor aria-hidden=true href=#security-update-scan-results>#</a></h3><p>[line]</p><p><img alt=mbsa2 loading=lazy src=/baseline-security-analyzer-testing-a-standard-installation-of-windows-web-server-2008-r2/images/mbsa2.png></p><h3 id=windows-scan-results>Windows Scan Results<a hidden class=anchor aria-hidden=true href=#windows-scan-results>#</a></h3><p>Administrative Vulnerabilities</p><p>[line]</p><p><img alt=mbsa3 loading=lazy src=/baseline-security-analyzer-testing-a-standard-installation-of-windows-web-server-2008-r2/images/mbsa3.png></p><h3 id=additional-system-information>Additional System Information<a hidden class=anchor aria-hidden=true href=#additional-system-information>#</a></h3><p>[line]</p><p><img alt=mbsa4 loading=lazy src=/baseline-security-analyzer-testing-a-standard-installation-of-windows-web-server-2008-r2/images/mbsa4.png></p><h3 id=internet-information-services-iis-scan-results>Internet Information Services (IIS) Scan Results<a hidden class=anchor aria-hidden=true href=#internet-information-services-iis-scan-results>#</a></h3><p>Administrative Vulnerabilities</p><p>[line]</p><p><img alt=mbsa5 loading=lazy src=/baseline-security-analyzer-testing-a-standard-installation-of-windows-web-server-2008-r2/images/mbsa5.png></p><h3 id=additional-system-information-1>Additional System Information<a hidden class=anchor aria-hidden=true href=#additional-system-information-1>#</a></h3><p>[line]</p><p><img alt=mbsa6 loading=lazy src=/baseline-security-analyzer-testing-a-standard-installation-of-windows-web-server-2008-r2/images/mbsa6.png></p><h3 id=desktop-application-scan-results>Desktop Application Scan Results<a hidden class=anchor aria-hidden=true href=#desktop-application-scan-results>#</a></h3><p>Administrative Vulnerabilities</p><p>[line]</p><p><img alt=mbsa7 loading=lazy src=/baseline-security-analyzer-testing-a-standard-installation-of-windows-web-server-2008-r2/images/mbsa7.png></p><h2 id=the-security-assessment-risk-rating>The Security Assessment Risk Rating<a hidden class=anchor aria-hidden=true href=#the-security-assessment-risk-rating>#</a></h2><p>MBSA was run on Windows Web Server 2008 R2.  The server had been updated using Windows Automated updates and the assumption was that MBSA would not find anything out of the ordinary.  The initial scan revealed that several critical issues existed which were overlooked previously.  The overall security assessment risk was given as <strong>“Severe Risk (One or more critical checks failed.).”</strong>  Upon further analysis of the report it was discovered that two critical issues and several other warnings were present.  The first critical risk involved an update patch shown in the screenshot below, which had never been applied to the server.  In order to fix this issue MBSA provided a link to download the patch in question, which was then installed on the server.</p><p><img alt=mbsa8 loading=lazy src=/baseline-security-analyzer-testing-a-standard-installation-of-windows-web-server-2008-r2/images/mbsa8.png></p><p>The second critical issue involved a security setting in Internet Explorer where it was revealed that Internet Explorer zones do not have secure settings for all users.  This involved a few security setting changes in Internet Explorer 8 on the different zones.</p><p>After applying the above fixes and re-running MBSA, the new security risk rating was dropped from severe risk to “<strong>Potential Risk (One or more non-critical checks failed.)</strong>.”  The remaining item was a warning that several users do not have a password expiration policy set.</p><p>Administrative Vulnerabilities</p><p><img alt=mbsa9 loading=lazy src=/baseline-security-analyzer-testing-a-standard-installation-of-windows-web-server-2008-r2/images/mbsa9.png></p><p>The users in question are web users generated by an application called Websitepanel, which is a web hosting toolset that manages multiple websites and domain accounts.  These users typically only have access to the website space that they are assigned to and have no further access to other system resources.  They are managed through Websitepanel via Windows Server Internet Information Services (IIS) and while they pose less of a threat, further investigation will be needed on how to properly manage password expiration policies for these users through IIS and Websitepanel in future.  The remaining report bullets were informational and no other warnings were present.</p><h2 id=weak-and-strong-passwords>Weak and Strong Passwords<a hidden class=anchor aria-hidden=true href=#weak-and-strong-passwords>#</a></h2><p>MBSA checks for weak passwords during its security scan of the system it has run on.  Weak passwords can often lead to vulnerabilities through ease of them being broken by common techniques such as brute force or dictionary attacks.  Yan (Yan, J, Blackwell, A., Anderson r. & Grant, A., 2004) describes a brute-force attack as method of using all possible combinations of keys when trying to discover a password.  Dictionary attacks on the other hand focus on a list of most likely used words.  “MBSA tests for blank passwords and common password patterns (such as the machine name, the user account name, and &ldquo;admin&rdquo;),” (Fahland, M., & Schultze, E., 2002).  Strong passwords are extremely important in corporate environments where users have access to restricted information.</p><p>The MBSA review of the Windows 2008 server revealed that neither login success nor login failure auditing was enabled.   If a brute-force or dictionary attack had taken place, there would be no evidence to support this because no logs would have been generated.  While this was an informational bullet in the report, it is an important piece of information that reminds us that we should always be vigilant regarding the traffic coming into our servers.  In a corporate setting it could be disastrous if a hacker was able to gain access to legitimate user accounts that had access to highly confidential information all because of an exploited weak password.</p><p>Kessler (2001) lists, “Lack of strong password policies, such as auditing user passwords, forcing password expiration, and encouraging users to employ good passwords” as one of the commonly overlooked security measures.  Password expiration policy is essential to ensure that users do not have a tendency on using the same password over a long period of time with different systems.  By forcing a user to change their password on a regular basis overall password security is increased but also it acts as a fail safe for those individuals who had accounts that were never deactivated when they should have been.</p><h2 id=malware>Malware<a hidden class=anchor aria-hidden=true href=#malware>#</a></h2><p>Vacca (2009) describes malware as “software designed to infiltrate or damage a computer system without the owner’s informed consent.”  Viruses, worms, backdoors and Trojan Horses are all forms of malware.  Moser, (Moser, Kruegel, & Kirda, 2007) analyzes the patterns of malware and describes it as a profitable business for many cyber criminals.  Malware is often installed on a user’s computer unknowingly through a web link, e-mail attachment or some other form of malicious code.  According to SpamLaws, it can attach “itself to the components of a web page, pop-up advertisements, toolbars, free stuff that you download, and games, to name a few.”   Once installed on large numbers of machines, they can be linked together to form “botnets”, which can be used for larger attacks such as denial-of-service or spam relays.</p><p>While later versions of Windows have come with greater security protection, users who unknowingly are tricked into installing a piece of malware have become compromised.  Malware has the ability to prevent system updates and make changes to firewall settings as well as antivirus definition files.  According to Moir, R. (2003) the two biggest concerns for computer users are viruses and spyware.  Both can be prevented by keeping the computer patched and up to date with the latest operating system updates as well as using a Virus protection application with updated definition files.  He also recommends only downloading files from reputable sources as well as installing and maintaining a firewall.</p><h2 id=patches-and-conficker>Patches and Conficker<a hidden class=anchor aria-hidden=true href=#patches-and-conficker>#</a></h2><p>Conficker is a “worm that has grown to be one of the most technologically advanced and resilient botnets to date”, (Fitzgibbon, & Wood, 2009).  There have been several different versions of Conficker over the years including Conficker.A, and Conficker.B which primarily concentrated on spreading infection.  Conficker.C has focused more on developing a more robust and stealthy operation.</p><p>Conficker.A originally exploited the MS08-067 RPC NetPathCanonicalize vulnerability, which was described by Microsoft as a vulnerability in server service that could allow remote code execution.  According to Microsoft (2008) Conficker is a remote code execution vulnerability where “An attacker who successfully exploited this vulnerability could take complete control of an affected system remotely.”</p><p>A patch was released by Microsoft in October of 2008, however many computers did not apply this patch immediately, which resulted in their infection of Conficker.  This is why it is so important, especially in any corporate environment to implement proper patch applying policies.  MBSA is a tool which can be used to scan for missing patches and therefore could be easily executed in a corporate environment.  If an organization chooses to manually install patches in their network, they should be aware of the current highly critical patches needed to defend their systems against malicious attacks.  If computers had been patched properly, the spread of the initial version of Conficker would have been much smaller.  Since Conficker.A, the worm has used a combination of highly sophisticated malware techniques and has continued to spread through social engineering and peer-to-peer distribution systems.</p><h2 id=mbsa-suggested-feature>MBSA Suggested Feature<a hidden class=anchor aria-hidden=true href=#mbsa-suggested-feature>#</a></h2><p>While MBSA does a great job of detecting missing patches and identifying different types of vulnerabilities present within a Windows environment, it does not accommodate for third party applications in the process.  According to Beaver, K (2009), MBSA doesn’t scan for anything outside of Microsoft software, while third party applications remain the source of many Windows vulnerabilities.</p><p>Many configuration problems tend to occur when a larger mix of third party applications are installed.  While it would be difficult for Microsoft to incorporate the many third party software applications into its MBSA product, it could devise a way for plug-in support, which would involve development from the third party software organization.  Regardless if this ever becomes a feature or not, MBSA provides a useful security baseline tool, which should be utilized by corporations to ensure they have the latest patches and are protected against many malicious threats both now and in the future.</p><h2 id=references>References<a hidden class=anchor aria-hidden=true href=#references>#</a></h2><p>Beaver, K. (2009). <em>Why should Windows shops use Microsoft Baseline Security Analyzer?</em> Retrieved from <a href=http://searchenterprisedesktop.techtarget.com/tip/Why-should-Windows-shops-use-Microsoft-Baseline-Security-Analyzer>http://searchenterprisedesktop.techtarget.com/tip/Why-should-Windows-shops-use-Microsoft-Baseline-Security-Analyzer</a></p><p>Kessler, C., G. (2001). Nontechnical Hurdles to Implementing Effective Security Policies. <em>IT Professional Magazine, 3(2), 49-52.</em>  Retrieved March 20, 2011, from ABI/INFORM Global. (Document ID: 1028002491).</p><p>Fahland, M., Schultze, E. (2001). <em>Microsoft Baseline Security Analyzer V1.1. Symantec</em>. Retrieved from <a href=http://www.symantec.com/connect/articles/microsoft-baseline-security-analyzer-v11>http://www.symantec.com/connect/articles/microsoft-baseline-security-analyzer-v11</a></p><p>Moir, R. (2003). <em>Defining Malware FAQ.</em> Microsoft. Retrieved from <a href=http://download.microsoft.com/download/d/b/f/dbf7a49f-ab1b-4de4-b7bd-45d01aecd89a/malwarefaq.doc>http://download.microsoft.com/download/d/b/f/dbf7a49f-ab1b-4de4-b7bd-45d01aecd89a/malwarefaq.doc</a></p><p>Moser, A., Kruegel, C. & Kirda, E. (2007) In Proceedings of the 2007 IEEE Symposium on Security and Privacy.  <em>Exploring multiple execution paths for malware analysis</em>.  Retrieved from <a href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.72.5497&amp;rep=rep1&amp;type=pdf">http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.72.5497&amp;rep=rep1&amp;type=pdf</a></p><p>Microsoft. (2008). <em>MS08-067 Knowledge Base</em>. Retrieved from <a href=http://support.microsoft.com/kb/958644>http://support.microsoft.com/kb/958644</a></p><p>SpamLaws. (2011). Retrieved from <a href=http://www.spamlaws.com/how-malware-works.html>http://www.spamlaws.com/how-malware-works.html</a></p><p>Vacca, J. (2009). <em>Computer and Information Security Handbook.</em> Burlington, MA: Morgan Kaufmann Publications.</p><p>Yan, J, Blackwell, A., Anderson r. & Grant, A. (2004). Password Memorability and Security: Empirical Results. <em>IEEE Security & Privacy Magazine</em>, p. 27. September/October, 2004.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://www.carnaghan.com/tags/csec-610/>Csec-610</a></li></ul><nav class=paginav><a class=prev href=https://www.carnaghan.com/security-of-information-systems-infrastructure-of-an-international-airport/><span class=title>« Prev</span><br><span>Security of Information Systems Infrastructure of an International Airport</span>
</a><a class=next href=https://www.carnaghan.com/tips-on-how-to-be-a-successful-blogger/><span class=title>Next »</span><br><span>Tips on How to be a Successful Blogger</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share Baseline Security Analyzer - Testing a Standard Installation of Windows Web Server 2008 R2 on x" href="https://x.com/intent/tweet/?text=Baseline%20Security%20Analyzer%20-%20Testing%20a%20Standard%20Installation%20of%20Windows%20Web%20Server%202008%20R2&amp;url=https%3a%2f%2fwww.carnaghan.com%2fbaseline-security-analyzer-testing-a-standard-installation-of-windows-web-server-2008-r2%2f&amp;hashtags=csec-610"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Baseline Security Analyzer - Testing a Standard Installation of Windows Web Server 2008 R2 on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fwww.carnaghan.com%2fbaseline-security-analyzer-testing-a-standard-installation-of-windows-web-server-2008-r2%2f&amp;title=Baseline%20Security%20Analyzer%20-%20Testing%20a%20Standard%20Installation%20of%20Windows%20Web%20Server%202008%20R2&amp;summary=Baseline%20Security%20Analyzer%20-%20Testing%20a%20Standard%20Installation%20of%20Windows%20Web%20Server%202008%20R2&amp;source=https%3a%2f%2fwww.carnaghan.com%2fbaseline-security-analyzer-testing-a-standard-installation-of-windows-web-server-2008-r2%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Baseline Security Analyzer - Testing a Standard Installation of Windows Web Server 2008 R2 on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fwww.carnaghan.com%2fbaseline-security-analyzer-testing-a-standard-installation-of-windows-web-server-2008-r2%2f&title=Baseline%20Security%20Analyzer%20-%20Testing%20a%20Standard%20Installation%20of%20Windows%20Web%20Server%202008%20R2"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Baseline Security Analyzer - Testing a Standard Installation of Windows Web Server 2008 R2 on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.carnaghan.com%2fbaseline-security-analyzer-testing-a-standard-installation-of-windows-web-server-2008-r2%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Baseline Security Analyzer - Testing a Standard Installation of Windows Web Server 2008 R2 on whatsapp" href="https://api.whatsapp.com/send?text=Baseline%20Security%20Analyzer%20-%20Testing%20a%20Standard%20Installation%20of%20Windows%20Web%20Server%202008%20R2%20-%20https%3a%2f%2fwww.carnaghan.com%2fbaseline-security-analyzer-testing-a-standard-installation-of-windows-web-server-2008-r2%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Baseline Security Analyzer - Testing a Standard Installation of Windows Web Server 2008 R2 on telegram" href="https://telegram.me/share/url?text=Baseline%20Security%20Analyzer%20-%20Testing%20a%20Standard%20Installation%20of%20Windows%20Web%20Server%202008%20R2&amp;url=https%3a%2f%2fwww.carnaghan.com%2fbaseline-security-analyzer-testing-a-standard-installation-of-windows-web-server-2008-r2%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Baseline Security Analyzer - Testing a Standard Installation of Windows Web Server 2008 R2 on ycombinator" href="https://news.ycombinator.com/submitlink?t=Baseline%20Security%20Analyzer%20-%20Testing%20a%20Standard%20Installation%20of%20Windows%20Web%20Server%202008%20R2&u=https%3a%2f%2fwww.carnaghan.com%2fbaseline-security-analyzer-testing-a-standard-installation-of-windows-web-server-2008-r2%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//carnaghan.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></article></main><footer class=footer><span>&copy; 2025 <a href=https://www.carnaghan.com/>Ian Carnaghan</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>